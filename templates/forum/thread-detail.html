{% extends 'common/base.html' %}

{% block content %}
<div class="thread-container">
    <h1 class="thread-title">{{ thread.title }}</h1>
    <p class="thread-meta">By <span class="thread-author">{{ thread.author }}</span> on <span class="thread-date">{{ thread.created_at }}</span></p>

    <hr class="thread-divider">

    <h2 class="replies-heading">Replies</h2>

    {% if posts %}
    <div class="replies-container">
        {% for post in posts %}
        <div class="reply-card">
            <p class="reply-content">{{ post.content }}</p>
            <div class="reply-author-info">
                <p class="reply-author">By: <strong> {{ post.author }}</strong></p>
                <p class="reply-date">{{ post.created_at }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-replies-message">No replies yet. Be the first to reply!</p>
    {% endif %}

    <hr class="thread-divider">

    <form method="POST" class="reply-form">
        {% csrf_token %}
        <div class="form-group">
            {{ form.as_p }}
        </div>
        <button type="submit" class="reply-submit-button">Reply</button>
    </form>
</div>
{% endblock %}
