{% extends 'common/base.html' %}

{% block content %}
<div class="add-university-container">
    <h2>Add Your University</h2>

    <!-- Display form errors at the top -->
    {% if form.errors %}
    <div class="error-message">
        <ul>
            {% for field in form %}
                {% if field.errors %}
                    <li><strong>{{ field.label }}:</strong>
                        {% for error in field.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <form method="POST">
        {% csrf_token %}

        <!-- Existing University Dropdown -->
        <div class="form-group">
            <label for="id_existing_university">Select Existing University</label>
            {{ form.existing_university }}
            {% if form.existing_university.errors %}
                <div class="error-text">
                    {% for error in form.existing_university.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <h3>OR</h3>

        <!-- New University Fields -->
        <div class="form-group">
            <label for="id_new_university_name">New University Name</label>
            {{ form.new_university_name }}
            {% if form.new_university_name.errors %}
                <div class="error-text">
                    {% for error in form.new_university_name.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_country">Country</label>
            {{ form.country }}
            {% if form.country.errors %}
                <div class="error-text">
                    {% for error in form.country.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_city">City</label>
            {{ form.city }}
            {% if form.city.errors %}
                <div class="error-text">
                    {% for error in form.city.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_description">Description</label>
            {{ form.description }}
            {% if form.description.errors %}
                <div class="error-text">
                    {% for error in form.description.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_year_established">Year of Establishment:</label>
            {{ form.year_established }}
            {% if form.year_established.errors %}
                <div class="error-text">
                    {% for error in form.year_established.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_logo_url">University Logo URL:</label>
            {{ form.logo_url }}
            {% if form.logo_url.errors %}
                <div class="error-text">
                    {% for error in form.logo_url.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Submit Button -->
        <button type="submit" class="submit-button">Save University</button>
    </form>
</div>
{% endblock %}
